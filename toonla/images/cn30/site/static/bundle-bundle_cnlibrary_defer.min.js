(function(undefined){var moment,VERSION="2.4.0",global=this,round=Math.round,i,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,languages={},hasModule=(typeof module!=="undefined"&&module.exports&&typeof require!=="undefined"),aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+\-]?\d{6}/,isoRegex=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),unitMillisecondFactors={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.lang().monthsShort(this,format)},MMMM:function(format){return this.lang().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.lang().weekdaysMin(this,format)},ddd:function(format){return this.lang().weekdaysShort(this,format)},dddd:function(format){return this.lang().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";if(a<0){a=-a;b="-"}return b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";if(a<0){a=-a;b="-"}return b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.lang().ordinal(func.call(this,a),period)}}while(ordinalizeTokens.length){i=ordinalizeTokens.pop();formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i)}while(paddedTokens.length){i=paddedTokens.pop();formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2)}formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3);function Language(){}function Moment(config){checkOverflow(config);extend(this,config)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+seconds*1000+minutes*60000+hours*3600000;this._days=+days+weeks*7;this._months=+months+years*12;this._data={};this._bubble()}function extend(a,b){for(var i in b){if(b.hasOwnProperty(i)){a[i]=b[i]}}if(b.hasOwnProperty("toString")){a.toString=b.toString}if(b.hasOwnProperty("valueOf")){a.valueOf=b.valueOf}return a}function absRound(number){if(number<0){return Math.ceil(number)}else{return Math.floor(number)}}function leftZeroFill(number,targetLength,forceSign){var output=Math.abs(number)+"",sign=number>=0;while(output.length<targetLength){output="0"+output}return(sign?(forceSign?"+":""):"-")+output}function addOrSubtractDurationFromMoment(mom,duration,isAdding,ignoreUpdateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months,minutes,hours;if(milliseconds){mom._d.setTime(+mom._d+milliseconds*isAdding)}if(days||months){minutes=mom.minute();hours=mom.hour()}if(days){mom.date(mom.date()+days*isAdding)}if(months){mom.month(mom.month()+months*isAdding)}if(milliseconds&&!ignoreUpdateOffset){moment.updateOffset(mom)}if(days||months){mom.minute(minutes);mom.hour(hours)}}function isArray(input){return Object.prototype.toString.call(input)==="[object Array]"}function isDate(input){return Object.prototype.toString.call(input)==="[object Date]"||input instanceof Date}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if((dontConvert&&array1[i]!==array2[i])||(!dontConvert&&toInt(array1[i])!==toInt(array2[i]))){diffs++}}return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(inputObject.hasOwnProperty(prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}return normalizedInput}function makeList(field){var count,setter;if(field.indexOf("week")===0){count=7;setter="day"}else{if(field.indexOf("month")===0){count=12;setter="month"}else{return}}moment[field]=function(format,index){var i,getter,method=moment.fn._lang[field],results=[];if(typeof format==="number"){index=format;format=undefined}getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment.fn._lang,m,format||"")};if(index!=null){return getter(index)}else{for(i=0;i<count;i++){results.push(getter(i))}return results}}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){if(coercedNumber>=0){value=Math.floor(coercedNumber)}else{value=Math.ceil(coercedNumber)}}return value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return(year%4===0&&year%100!==0)||year%400===0}function checkOverflow(m){var overflow;if(m._a&&m._pf.overflow===-2){overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>23?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1;if(m._pf._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}m._pf.overflow=overflow}}function initializeParsingFlags(config){config._pf={empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function isValid(m){if(m._isValid==null){m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated;if(m._strict){m._isValid=m._isValid&&m._pf.charsLeftOver===0&&m._pf.unusedTokens.length===0}}return m._isValid}function normalizeLanguage(key){return key?key.toLowerCase().replace("_","-"):key}extend(Language.prototype,{set:function(config){var prop,i;for(i in config){prop=config[i];if(typeof prop==="function"){this[i]=prop}else{this["_"+i]=prop}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName){var i,mom,regex;if(!this._monthsParse){this._monthsParse=[]}for(i=0;i<12;i++){if(!this._monthsParse[i]){mom=moment.utc([2000,i]);regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,"");this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")}if(this._monthsParse[i].test(monthName)){return i}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;if(!this._weekdaysParse){this._weekdaysParse=[]}for(i=0;i<7;i++){if(!this._weekdaysParse[i]){mom=moment([2000,1]).day(i);regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,"");this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")}if(this._weekdaysParse[i].test(weekdayName)){return i}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];if(!output&&this._longDateFormat[key.toUpperCase()]){output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});this._longDateFormat[key]=output}return output},isPM:function(input){return((input+"").toLowerCase().charAt(0)==="p")},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"pm":"PM"}else{return isLower?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom){var output=this._calendar[key];return typeof output==="function"?output.apply(mom):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return(typeof output==="function")?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return typeof format==="function"?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function loadLang(key,values){values.abbr=key;if(!languages[key]){languages[key]=new Language()}languages[key].set(values);return languages[key]}function unloadLang(key){delete languages[key]}function getLangDefinition(key){var i=0,j,lang,next,split,get=function(k){if(!languages[k]&&hasModule){try{require("./lang/"+k)}catch(e){}}return languages[k]};if(!key){return moment.fn._lang}if(!isArray(key)){lang=get(key);if(lang){return lang}key=[key]}while(i<key.length){split=normalizeLanguage(key[i]).split("-");j=split.length;next=normalizeLanguage(key[i+1]);next=next?next.split("-"):null;while(j>0){lang=get(split.slice(0,j).join("-"));if(lang){return lang}if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break}j--}i++}return moment.fn._lang}function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,"")}return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}return function(mom){var output="";for(i=0;i<length;i++){output+=array[i] instanceof Function?array[i].call(mom,format):array[i]}return output}}function formatMoment(m,format){if(!m.isValid()){return m.lang().invalidDate()}format=expandFormat(format,m.lang());if(!formatFunctions[format]){formatFunctions[format]=makeFormatFunction(format)}return formatFunctions[format](m)}function expandFormat(format,lang){var i=5;function replaceLongDateFormatTokens(input){return lang.longDateFormat(input)||input}localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict){return parseTokenOneDigit}case"SS":if(strict){return parseTokenTwoDigits}case"SSS":case"DDD":return strict?parseTokenThreeDigits:parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return getLangDefinition(config._l)._meridiemParse;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return strict?parseTokenOneDigit:parseTokenOneOrTwoDigits;default:a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"));return a}}function timezoneMinutesFromString(string){string=string||"";var possibleTzMatches=(string.match(parseTokenTimezone)||[]),tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==="+"?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"M":case"MM":if(input!=null){datePartArray[MONTH]=toInt(input)-1}break;case"MMM":case"MMMM":a=getLangDefinition(config._l).monthsParse(input);if(a!=null){datePartArray[MONTH]=a}else{config._pf.invalidMonth=input}break;case"D":case"DD":if(input!=null){datePartArray[DATE]=toInt(input)}break;case"DDD":case"DDDD":if(input!=null){config._dayOfYear=toInt(input)}break;case"YY":datePartArray[YEAR]=toInt(input)+(toInt(input)>68?1900:2000);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=getLangDefinition(config._l).isPM(input);break;case"H":case"HH":case"h":case"hh":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(("0."+input)*1000);break;case"X":config._d=new Date(parseFloat(input)*1000);break;case"Z":case"ZZ":config._useUTC=true;config._tzm=timezoneMinutesFromString(input);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":token=token.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":token=token.substr(0,2);if(input){config._w=config._w||{};config._w[token]=input}break}}function dateFromConfig(config){var i,date,input=[],currentDate,yearToUse,fixYear,w,temp,lang,weekday,week;if(config._d){return}currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){fixYear=function(val){var int_val=parseInt(val,10);return val?(val.length<3?(int_val>68?1900+int_val:2000+int_val):int_val):(config._a[YEAR]==null?moment().weekYear():config._a[YEAR])};w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){temp=dayOfYearFromWeeks(fixYear(w.GG),w.W||1,w.E,4,1)}else{lang=getLangDefinition(config._l);weekday=w.d!=null?parseWeekday(w.d,lang):(w.e!=null?parseInt(w.e,10)+lang._week.dow:0);week=parseInt(w.w,10)||1;if(w.d!=null&&weekday<lang._week.dow){week++}temp=dayOfYearFromWeeks(fixYear(w.gg),week,weekday,lang._week.doy,lang._week.dow)}config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}if(config._dayOfYear){yearToUse=config._a[YEAR]==null?currentDate[YEAR]:config._a[YEAR];if(config._dayOfYear>daysInYear(yearToUse)){config._pf._overflowDayOfYear=true}date=makeUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}for(;i<7;i++){config._a[i]=input[i]=(config._a[i]==null)?(i===2?1:0):config._a[i]}input[HOUR]+=toInt((config._tzm||0)/60);input[MINUTE]+=toInt((config._tzm||0)%60);config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input)}function dateFromObject(config){var normalizedInput;if(config._d){return}normalizedInput=normalizeObjectUnits(config._i);config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond];dateFromConfig(config)}function currentDateArray(config){var now=new Date();if(config._useUTC){return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]}else{return[now.getFullYear(),now.getMonth(),now.getDate()]}}function makeDateFromStringAndFormat(config){config._a=[];config._pf.empty=true;var lang=getLangDefinition(config._l),string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,lang).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){config._pf.unusedInput.push(skipped)}string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput){config._pf.empty=false}else{config._pf.unusedTokens.push(token)}addTimeToArrayFromToken(token,parsedInput,config)}else{if(config._strict&&!parsedInput){config._pf.unusedTokens.push(token)}}}config._pf.charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){config._pf.unusedInput.push(string)}if(config._isPm&&config._a[HOUR]<12){config._a[HOUR]+=12}if(config._isPm===false&&config._a[HOUR]===12){config._a[HOUR]=0}dateFromConfig(config);checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){config._pf.invalidFormat=true;config._d=new Date(NaN);return}for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=extend({},config);initializeParsingFlags(tempConfig);tempConfig._f=config._f[i];makeDateFromStringAndFormat(tempConfig);if(!isValid(tempConfig)){continue}currentScore+=tempConfig._pf.charsLeftOver;currentScore+=tempConfig._pf.unusedTokens.length*10;tempConfig._pf.score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}extend(config,bestMoment||tempConfig)}function makeDateFromString(config){var i,string=config._i,match=isoRegex.exec(string);if(match){config._pf.iso=true;for(i=4;i>0;i--){if(match[i]){config._f=isoDates[i-1]+(match[6]||" ");break}}for(i=0;i<4;i++){if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}}if(string.match(parseTokenTimezone)){config._f+="Z"}makeDateFromStringAndFormat(config)}else{config._d=new Date(string)}}function makeDateFromInput(config){var input=config._i,matched=aspNetJsonRegex.exec(input);if(input===undefined){config._d=new Date()}else{if(matched){config._d=new Date(+matched[1])}else{if(typeof input==="string"){makeDateFromString(config)}else{if(isArray(input)){config._a=input.slice(0);dateFromConfig(config)}else{if(isDate(input)){config._d=new Date(+input)}else{if(typeof(input)==="object"){dateFromObject(config)}else{config._d=new Date(input)}}}}}}}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<1970){date.setFullYear(y)}return date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<1970){date.setUTCFullYear(y)}return date}function parseWeekday(input,language){if(typeof input==="string"){if(!isNaN(input)){input=parseInt(input,10)}else{input=language.weekdaysParse(input);if(typeof input!=="number"){return null}}}return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,lang){return lang.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(milliseconds,withoutSuffix,lang){var seconds=round(Math.abs(milliseconds)/1000),minutes=round(seconds/60),hours=round(minutes/60),days=round(hours/24),years=round(days/365),args=seconds<45&&["s",seconds]||minutes===1&&["m"]||minutes<45&&["mm",minutes]||hours===1&&["h"]||hours<22&&["hh",hours]||days===1&&["d"]||days<=25&&["dd",days]||days<=45&&["M"]||days<345&&["MM",round(days/30)]||years===1&&["y"]||["yy",years];args[2]=withoutSuffix;args[3]=milliseconds>0;args[4]=lang;return substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end){daysToDayOfWeek-=7}if(daysToDayOfWeek<end-7){daysToDayOfWeek+=7}adjustedMoment=moment(mom).add("d",daysToDayOfWeek);return{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var d=new Date(leftZeroFill(year,6,true)+"-01-01").getUTCDay(),daysToAdd,dayOfYear;weekday=weekday!=null?weekday:firstDayOfWeek;daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0);dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1;return{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var input=config._i,format=config._f;if(typeof config._pf==="undefined"){initializeParsingFlags(config)}if(input===null){return moment.invalid({nullInput:true})}if(typeof input==="string"){config._i=input=getLangDefinition().preparse(input)}if(moment.isMoment(input)){config=extend({},input);config._d=new Date(+input._d)}else{if(format){if(isArray(format)){makeDateFromStringAndArray(config)}else{makeDateFromStringAndFormat(config)}}else{makeDateFromInput(config)}}return new Moment(config)}moment=function(input,format,lang,strict){if(typeof(lang)==="boolean"){strict=lang;lang=undefined}return makeMoment({_i:input,_f:format,_l:lang,_strict:strict,_isUTC:false})};moment.utc=function(input,format,lang,strict){var m;if(typeof(lang)==="boolean"){strict=lang;lang=undefined}m=makeMoment({_useUTC:true,_isUTC:true,_l:lang,_i:input,_f:format,_strict:strict}).utc();return m};moment.unix=function(input){return moment(input*1000)};moment.duration=function(input,key){var duration=input,match=null,sign,ret,parseIso;if(moment.isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else{if(typeof input==="number"){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else{if(!!(match=aspNetTimeSpanJsonRegex.exec(input))){sign=(match[1]==="-")?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}}else{if(!!(match=isoDurationRegex.exec(input))){sign=(match[1]==="-")?-1:1;parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign};duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}}}}}ret=new Duration(duration);if(moment.isDuration(input)&&input.hasOwnProperty("_lang")){ret._lang=input._lang}return ret};moment.version=VERSION;moment.defaultFormat=isoFormat;moment.updateOffset=function(){};moment.lang=function(key,values){var r;if(!key){return moment.fn._lang._abbr}if(values){loadLang(normalizeLanguage(key),values)}else{if(values===null){unloadLang(key);key="en"}else{if(!languages[key]){getLangDefinition(key)}}}r=moment.duration.fn._lang=moment.fn._lang=getLangDefinition(key);return r._abbr};moment.langData=function(key){if(key&&key._lang&&key._lang._abbr){key=key._lang._abbr}return getLangDefinition(key)};moment.isMoment=function(obj){return obj instanceof Moment};moment.isDuration=function(obj){return obj instanceof Duration};for(i=lists.length-1;i>=0;--i){makeList(lists[i])}moment.normalizeUnits=function(units){return normalizeUnits(units)};moment.invalid=function(flags){var m=moment.utc(NaN);if(flags!=null){extend(m._pf,flags)}else{m._pf.userInvalidated=true}return m};moment.parseZone=function(input){return moment(input).parseZone()};extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return +this._d+((this._offset||0)*60000)},unix:function(){return Math.floor(+this/1000)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();if(0<m.year()&&m.year()<=9999){return formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}else{return formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0}return false},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=false;return this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.lang().postformat(output)},add:function(input,val){var dur;if(typeof input==="string"){dur=moment.duration(+val,input)}else{dur=moment.duration(input,val)}addOrSubtractDurationFromMoment(this,dur,1);return this},subtract:function(input,val){var dur;if(typeof input==="string"){dur=moment.duration(+val,input)}else{dur=moment.duration(input,val)}addOrSubtractDurationFromMoment(this,dur,-1);return this},diff:function(input,units,asFloat){var that=this._isUTC?moment(input).zone(this._offset||0):moment(input).local(),zoneDiff=(this.zone()-that.zone())*60000,diff,output;units=normalizeUnits(units);if(units==="year"||units==="month"){diff=(this.daysInMonth()+that.daysInMonth())*43200000;output=((this.year()-that.year())*12)+(this.month()-that.month());output+=((this-moment(this).startOf("month"))-(that-moment(that).startOf("month")))/diff;output-=((this.zone()-moment(this).startOf("month").zone())-(that.zone()-moment(that).startOf("month").zone()))*60000/diff;if(units==="year"){output=output/12}}else{diff=(this-that);output=units==="second"?diff/1000:units==="minute"?diff/60000:units==="hour"?diff/3600000:units==="day"?(diff-zoneDiff)/86400000:units==="week"?(diff-zoneDiff)/604800000:diff}return asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(){var sod=(this._isUTC?moment().zone(this.zone()):moment()).startOf("day"),diff=this.diff(sod,"days",true),format=diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(format,this))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return(this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone())},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.lang());return this.add({d:input-day})}else{return day}},month:function(input){var utc=this._isUTC?"UTC":"",dayOfMonth;if(input!=null){if(typeof input==="string"){input=this.lang().monthsParse(input);if(typeof input!=="number"){return this}}dayOfMonth=this.date();this.date(1);this._d["set"+utc+"Month"](input);this.date(Math.min(dayOfMonth,this.daysInMonth()));moment.updateOffset(this);return this}else{return this._d["get"+utc+"Month"]()}},startOf:function(units){units=normalizeUnits(units);switch(units){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(units==="week"){this.weekday(0)}else{if(units==="isoWeek"){this.isoWeekday(1)}}return this},endOf:function(units){units=normalizeUnits(units);return this.startOf(units).add((units==="isoWeek"?"week":units),1).subtract("ms",1)},isAfter:function(input,units){units=typeof units!=="undefined"?units:"millisecond";return +this.clone().startOf(units)>+moment(input).startOf(units)},isBefore:function(input,units){units=typeof units!=="undefined"?units:"millisecond";return +this.clone().startOf(units)<+moment(input).startOf(units)},isSame:function(input,units){units=typeof units!=="undefined"?units:"millisecond";return +this.clone().startOf(units)===+moment(input).startOf(units)},min:function(other){other=moment.apply(null,arguments);return other<this?this:other},max:function(other){other=moment.apply(null,arguments);return other>this?this:other},zone:function(input){var offset=this._offset||0;if(input!=null){if(typeof input==="string"){input=timezoneMinutesFromString(input)}if(Math.abs(input)<16){input=input*60}this._offset=input;this._isUTC=true;if(offset!==input){addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,true)}}else{return this._isUTC?offset:this._d.getTimezoneOffset()}return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm){this.zone(this._tzm)}else{if(typeof this._i==="string"){this.zone(this._i)}}return this},hasAlignedHourOffset:function(input){if(!input){input=0}else{input=moment(input).zone()}return(this.zone()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/86400000)+1;return input==null?dayOfYear:this.add("d",(input-dayOfYear))},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(input){var year=weekOfYear(this,this.lang()._week.dow,this.lang()._week.doy).year;return input==null?year:this.add("y",(input-year))},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return input==null?year:this.add("y",(input-year))},week:function(input){var week=this.lang().week(this);return input==null?week:this.add("d",(input-week)*7)},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add("d",(input-week)*7)},weekday:function(input){var weekday=(this.day()+7-this.lang()._week.dow)%7;return input==null?weekday:this.add("d",input-weekday)},isoWeekday:function(input){return input==null?this.day()||7:this.day(this.day()%7?input:input-7)},get:function(units){units=normalizeUnits(units);return this[units]()},set:function(units,value){units=normalizeUnits(units);if(typeof this[units]==="function"){this[units](value)}return this},lang:function(key){if(key===undefined){return this._lang}else{this._lang=getLangDefinition(key);return this}}});function makeGetterAndSetter(name,key){moment.fn[name]=moment.fn[name+"s"]=function(input){var utc=this._isUTC?"UTC":"";if(input!=null){this._d["set"+utc+key](input);moment.updateOffset(this);return this}else{return this._d["get"+utc+key]()}}}for(i=0;i<proxyGettersAndSetters.length;i++){makeGetterAndSetter(proxyGettersAndSetters[i].toLowerCase().replace(/s$/,""),proxyGettersAndSetters[i])}makeGetterAndSetter("year","FullYear");moment.fn.days=moment.fn.day;moment.fn.months=moment.fn.month;moment.fn.weeks=moment.fn.week;moment.fn.isoWeeks=moment.fn.isoWeek;moment.fn.toJSON=moment.fn.toISOString;extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years;data.milliseconds=milliseconds%1000;seconds=absRound(milliseconds/1000);data.seconds=seconds%60;minutes=absRound(seconds/60);data.minutes=minutes%60;hours=absRound(minutes/60);data.hours=hours%24;days+=absRound(hours/24);data.days=days%30;months+=absRound(days/30);data.months=months%12;years=absRound(months/12);data.years=years},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*86400000+(this._months%12)*2592000000+toInt(this._months/12)*31536000000},humanize:function(withSuffix){var difference=+this,output=relativeTime(difference,!withSuffix,this.lang());if(withSuffix){output=this.lang().pastFuture(difference,output)}return this.lang().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);this._milliseconds+=dur._milliseconds;this._days+=dur._days;this._months+=dur._months;this._bubble();return this},subtract:function(input,val){var dur=moment.duration(input,val);this._milliseconds-=dur._milliseconds;this._days-=dur._days;this._months-=dur._months;this._bubble();return this},get:function(units){units=normalizeUnits(units);return this[units.toLowerCase()+"s"]()},as:function(units){units=normalizeUnits(units);return this["as"+units.charAt(0).toUpperCase()+units.slice(1)+"s"]()},lang:moment.fn.lang,toIsoString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1000);if(!this.asSeconds()){return"P0D"}return(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+((hours||minutes||seconds)?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":"")}});function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeDurationAsGetter(name,factor){moment.duration.fn["as"+name]=function(){return +this/factor}}for(i in unitMillisecondFactors){if(unitMillisecondFactors.hasOwnProperty(i)){makeDurationAsGetter(i,unitMillisecondFactors[i]);makeDurationGetter(i.toLowerCase())}}makeDurationAsGetter("Weeks",604800000);moment.duration.fn.asMonths=function(){return(+this-this.years()*31536000000)/2592000000+this.years()*12};moment.lang("en",{ordinal:function(number){var b=number%10,output=(toInt(number%100/10)===1)?"th":(b===1)?"st":(b===2)?"nd":(b===3)?"rd":"th";return number+output}});function makeGlobal(deprecate){var warned=false,local_moment=moment;if(typeof ender!=="undefined"){return}if(deprecate){global.moment=function(){if(!warned&&console&&console.warn){warned=true;console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")}return local_moment.apply(null,arguments)};extend(global.moment,local_moment)}else{global.moment=moment}}if(hasModule){module.exports=moment;makeGlobal(true)}else{if(typeof define==="function"&&define.amd){define("moment",function(require,exports,module){if(module.config&&module.config()&&module.config().noGlobal!==true){makeGlobal(module.config().noGlobal===undefined)}return moment})}else{makeGlobal()}}}).call(this);(function(){var VERSION="0.0.3";function onload(moment){var oldZoneName=moment.fn.zoneName,oldZoneAbbr=moment.fn.zoneAbbr,defaultRule,rules={},ruleSets={},zones={},zoneSets={},links={},TIME_RULE_WALL_CLOCK=0,TIME_RULE_UTC=1,TIME_RULE_STANDARD=2,DAY_RULE_DAY_OF_MONTH=7,DAY_RULE_LAST_WEEKDAY=8;function parseMinutes(input){input=input+"";var output=input.split(":"),sign=~input.indexOf("-")?-1:1,hour=Math.abs(+output[0]),minute=parseInt(output[1],10)||0,second=parseInt(output[2],10)||0;return sign*((hour*60)+(minute)+(second/60))}function Rule(name,startYear,endYear,month,day,dayRule,time,timeRule,offset,letters){this.name=name;this.startYear=+startYear;this.endYear=+endYear;this.month=+month;this.day=+day;this.dayRule=+dayRule;this.time=parseMinutes(time);this.timeRule=+timeRule;this.offset=parseMinutes(offset);this.letters=letters||""}Rule.prototype={contains:function(year){return(year>=this.startYear&&year<=this.endYear)},start:function(year){year=Math.min(Math.max(year,this.startYear),this.endYear);return moment.utc([year,this.month,this.date(year),0,this.time])},date:function(year){if(this.dayRule===DAY_RULE_DAY_OF_MONTH){return this.day}else{if(this.dayRule===DAY_RULE_LAST_WEEKDAY){return this.lastWeekday(year)}}return this.weekdayAfter(year)},weekdayAfter:function(year){var day=this.day,firstDayOfWeek=moment([year,this.month,1]).day(),output=this.dayRule+1-firstDayOfWeek;while(output<day){output+=7}return output},lastWeekday:function(year){var day=this.day,dow=day%7,lastDowOfMonth=moment([year,this.month+1,1]).day(),daysInMonth=moment([year,this.month,1]).daysInMonth(),output=daysInMonth+(dow-(lastDowOfMonth-1))-(~~(day/7)*7);if(dow>=lastDowOfMonth){output-=7}return output}};function RuleYear(year,rule){this.rule=rule;this.start=rule.start(year)}RuleYear.prototype={equals:function(other){if(!other||other.rule!==this.rule){return false}return Math.abs(other.start-this.start)<86400000}};function sortRuleYears(a,b){if(a.isLast){return -1}if(b.isLast){return 1}return b.start-a.start}function RuleSet(name){this.name=name;this.rules=[]}RuleSet.prototype={add:function(rule){this.rules.push(rule)},ruleYears:function(mom,lastZone){var i,j,year=mom.year(),rule,lastZoneRule,rules=[];for(i=0;i<this.rules.length;i++){rule=this.rules[i];if(rule.contains(year)){rules.push(new RuleYear(year,rule))}else{if(rule.contains(year+1)){rules.push(new RuleYear(year+1,rule))}}}rules.push(new RuleYear(year-1,this.lastYearRule(year-1)));if(lastZone){lastZoneRule=new RuleYear(year-1,lastZone.lastRule());lastZoneRule.start=lastZone.until.clone().utc();lastZoneRule.isLast=lastZone.ruleSet!==this;rules.push(lastZoneRule)}rules.sort(sortRuleYears);return rules},rule:function(mom,offset,lastZone){var rules=this.ruleYears(mom,lastZone),lastOffset=0,rule,lastZoneOffset,lastZoneOffsetAbs,lastRule,i;if(lastZone){lastZoneOffset=lastZone.offset+lastZone.lastRule().offset;lastZoneOffsetAbs=Math.abs(lastZoneOffset)*90000}for(i=rules.length-1;i>-1;i--){lastRule=rule;rule=rules[i];if(rule.equals(lastRule)){continue}if(lastZone&&!rule.isLast&&Math.abs(rule.start-lastZone.until)<=lastZoneOffsetAbs){lastOffset+=lastZoneOffset-offset}if(rule.rule.timeRule===TIME_RULE_STANDARD){lastOffset=offset}if(rule.rule.timeRule!==TIME_RULE_UTC){rule.start.add("m",-lastOffset)}lastOffset=rule.rule.offset+offset}for(i=0;i<rules.length;i++){rule=rules[i];if(mom>=rule.start&&!rule.isLast){return rule.rule}}return defaultRule},lastYearRule:function(year){var i,rule,start,bestRule=defaultRule,largest=-1e+30;for(i=0;i<this.rules.length;i++){rule=this.rules[i];if(year>=rule.startYear){start=rule.start(year);if(start>largest){largest=start;bestRule=rule}}}return bestRule}};function Zone(name,offset,ruleSet,letters,until,untilOffset){var i,untilArray=typeof until==="string"?until.split("_"):[9999];this.name=name;this.offset=parseMinutes(offset);this.ruleSet=ruleSet;this.letters=letters;for(i=0;i<untilArray.length;i++){untilArray[i]=+untilArray[i]}this.until=moment.utc(untilArray).subtract("m",parseMinutes(untilOffset))}Zone.prototype={rule:function(mom,lastZone){return this.ruleSet.rule(mom,this.offset,lastZone)},lastRule:function(){if(!this._lastRule){this._lastRule=this.rule(this.until)}return this._lastRule},format:function(rule){return this.letters.replace("%s",rule.letters)}};function sortZones(a,b){return a.until-b.until}function ZoneSet(name){this.name=normalizeName(name);this.displayName=name;this.zones=[]}ZoneSet.prototype={zoneAndRule:function(mom){var i,zone,lastZone;mom=mom.clone().utc();for(i=0;i<this.zones.length;i++){zone=this.zones[i];if(mom<zone.until){break}lastZone=zone}return[zone,zone.rule(mom,lastZone)]},add:function(zone){this.zones.push(zone);this.zones.sort(sortZones)},format:function(mom){var zoneAndRule=this.zoneAndRule(mom);return zoneAndRule[0].format(zoneAndRule[1])},offset:function(mom){var zoneAndRule=this.zoneAndRule(mom);return -(zoneAndRule[0].offset+zoneAndRule[1].offset)}};function addRules(rules){var i,j,rule;for(i in rules){rule=rules[i];for(j=0;j<rule.length;j++){addRule(i+"\t"+rule[j])}}}function addRule(ruleString){if(rules[ruleString]){return rules[ruleString]}var p=ruleString.split(/\s/),name=normalizeName(p[0]),rule=new Rule(name,p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10]);rules[ruleString]=rule;getRuleSet(name).add(rule);return rule}function normalizeName(name){return(name||"").toLowerCase().replace(/\//g,"_")}function addZones(zones){var i,j,zone;for(i in zones){zone=zones[i];for(j=0;j<zone.length;j++){addZone(i+"\t"+zone[j])}}}function addLinks(linksToAdd){var i;for(i in linksToAdd){links[normalizeName(i)]=normalizeName(linksToAdd[i])}}function addZone(zoneString){if(zones[zoneString]){return zones[zoneString]}var p=zoneString.split(/\s/),name=normalizeName(p[0]),zone=new Zone(name,p[1],getRuleSet(p[2]),p[3],p[4],p[5]);zones[zoneString]=zone;getZoneSet(p[0]).add(zone);return zone}function getRuleSet(name){name=normalizeName(name);if(!ruleSets[name]){ruleSets[name]=new RuleSet(name)}return ruleSets[name]}function getZoneSet(name){var machineName=normalizeName(name);if(links[machineName]){machineName=links[machineName]}if(!zoneSets[machineName]){zoneSets[machineName]=new ZoneSet(name)}return zoneSets[machineName]}function add(data){if(!data){return}if(data.zones){addZones(data.zones)}if(data.rules){addRules(data.rules)}if(data.links){addLinks(data.links)}}moment.updateOffset=function(mom){var offset;if(mom._z){offset=mom._z.offset(mom);if(Math.abs(offset)<16){offset=offset/60}mom.zone(offset)}};function getZoneSets(){var sets=[],zoneName;for(zoneName in zoneSets){sets.push(zoneSets[zoneName])}return sets}moment.fn.tz=function(name){if(name){this._z=getZoneSet(name);if(this._z){moment.updateOffset(this)}return this}if(this._z){return this._z.displayName}};moment.fn.zoneName=function(){if(this._z){return this._z.format(this)}return oldZoneName.call(this)};moment.fn.zoneAbbr=function(){if(this._z){return this._z.format(this)}return oldZoneAbbr.call(this)};moment.tz=function(){var args=[],i,len=arguments.length-1;for(i=0;i<len;i++){args[i]=arguments[i]}var m=moment.apply(null,args);var preTzOffset=m.zone();m.tz(arguments[len]);return m.add("minutes",m.zone()-preTzOffset)};moment.tz.add=add;moment.tz.addRule=addRule;moment.tz.addZone=addZone;moment.tz.zones=getZoneSets;moment.tz.version=VERSION;defaultRule=addRule("- 0 9999 0 0 0 0 0 0");return moment}if(typeof define==="function"&&define.amd){define("moment-timezone",["moment"],onload)}else{if(typeof module!=="undefined"){module.exports=onload(require("moment"))}else{if(typeof window!=="undefined"&&window.moment){onload(window.moment)}}}}).apply(this);(function(){var method;var noop=function(){};var methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var length=methods.length;var console=(window.console=window.console||{});while(length--){method=methods[length];if(!console[method]){console[method]=noop}}}());if(typeof(console)==="undefined"){var console={};console.log=console.error=console.info=console.debug=console.warn=console.trace=console.dir=console.dirxml=console.group=console.groupEnd=console.time=console.timeEnd=console.assert=console.profile=function(){}}if(!window.console){console={log:function(){}}}function md5cycle(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];a=ff(a,b,c,d,k[0],7,-680876936);d=ff(d,a,b,c,k[1],12,-389564586);c=ff(c,d,a,b,k[2],17,606105819);b=ff(b,c,d,a,k[3],22,-1044525330);a=ff(a,b,c,d,k[4],7,-176418897);d=ff(d,a,b,c,k[5],12,1200080426);c=ff(c,d,a,b,k[6],17,-1473231341);b=ff(b,c,d,a,k[7],22,-45705983);a=ff(a,b,c,d,k[8],7,1770035416);d=ff(d,a,b,c,k[9],12,-1958414417);c=ff(c,d,a,b,k[10],17,-42063);b=ff(b,c,d,a,k[11],22,-1990404162);a=ff(a,b,c,d,k[12],7,1804603682);d=ff(d,a,b,c,k[13],12,-40341101);c=ff(c,d,a,b,k[14],17,-1502002290);b=ff(b,c,d,a,k[15],22,1236535329);a=gg(a,b,c,d,k[1],5,-165796510);d=gg(d,a,b,c,k[6],9,-1069501632);c=gg(c,d,a,b,k[11],14,643717713);b=gg(b,c,d,a,k[0],20,-373897302);a=gg(a,b,c,d,k[5],5,-701558691);d=gg(d,a,b,c,k[10],9,38016083);c=gg(c,d,a,b,k[15],14,-660478335);b=gg(b,c,d,a,k[4],20,-405537848);a=gg(a,b,c,d,k[9],5,568446438);d=gg(d,a,b,c,k[14],9,-1019803690);c=gg(c,d,a,b,k[3],14,-187363961);b=gg(b,c,d,a,k[8],20,1163531501);a=gg(a,b,c,d,k[13],5,-1444681467);d=gg(d,a,b,c,k[2],9,-51403784);c=gg(c,d,a,b,k[7],14,1735328473);b=gg(b,c,d,a,k[12],20,-1926607734);a=hh(a,b,c,d,k[5],4,-378558);d=hh(d,a,b,c,k[8],11,-2022574463);c=hh(c,d,a,b,k[11],16,1839030562);b=hh(b,c,d,a,k[14],23,-35309556);a=hh(a,b,c,d,k[1],4,-1530992060);d=hh(d,a,b,c,k[4],11,1272893353);c=hh(c,d,a,b,k[7],16,-155497632);b=hh(b,c,d,a,k[10],23,-1094730640);a=hh(a,b,c,d,k[13],4,681279174);d=hh(d,a,b,c,k[0],11,-358537222);c=hh(c,d,a,b,k[3],16,-722521979);b=hh(b,c,d,a,k[6],23,76029189);a=hh(a,b,c,d,k[9],4,-640364487);d=hh(d,a,b,c,k[12],11,-421815835);c=hh(c,d,a,b,k[15],16,530742520);b=hh(b,c,d,a,k[2],23,-995338651);a=ii(a,b,c,d,k[0],6,-198630844);d=ii(d,a,b,c,k[7],10,1126891415);c=ii(c,d,a,b,k[14],15,-1416354905);b=ii(b,c,d,a,k[5],21,-57434055);a=ii(a,b,c,d,k[12],6,1700485571);d=ii(d,a,b,c,k[3],10,-1894986606);c=ii(c,d,a,b,k[10],15,-1051523);b=ii(b,c,d,a,k[1],21,-2054922799);a=ii(a,b,c,d,k[8],6,1873313359);d=ii(d,a,b,c,k[15],10,-30611744);c=ii(c,d,a,b,k[6],15,-1560198380);b=ii(b,c,d,a,k[13],21,1309151649);a=ii(a,b,c,d,k[4],6,-145523070);d=ii(d,a,b,c,k[11],10,-1120210379);c=ii(c,d,a,b,k[2],15,718787259);b=ii(b,c,d,a,k[9],21,-343485551);x[0]=add32(a,x[0]);x[1]=add32(b,x[1]);x[2]=add32(c,x[2]);x[3]=add32(d,x[3])}function cmn(q,a,b,x,s,t){a=add32(add32(a,q),add32(x,t));return add32((a<<s)|(a>>>(32-s)),b)}function ff(a,b,c,d,x,s,t){return cmn((b&c)|((~b)&d),a,b,x,s,t)}function gg(a,b,c,d,x,s,t){return cmn((b&d)|(c&(~d)),a,b,x,s,t)}function hh(a,b,c,d,x,s,t){return cmn(b^c^d,a,b,x,s,t)}function ii(a,b,c,d,x,s,t){return cmn(c^(b|(~d)),a,b,x,s,t)}function md51(s){txt="";var n=s.length,state=[1732584193,-271733879,-1732584194,271733878],i;for(i=64;i<=s.length;i+=64){md5cycle(state,md5blk(s.substring(i-64,i)))}s=s.substring(i-64);var tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<s.length;i++){tail[i>>2]|=s.charCodeAt(i)<<((i%4)<<3)}tail[i>>2]|=128<<((i%4)<<3);if(i>55){md5cycle(state,tail);for(i=0;i<16;i++){tail[i]=0}}tail[14]=n*8;md5cycle(state,tail);return state}function md5blk(s){var md5blks=[],i;for(i=0;i<64;i+=4){md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24)}return md5blks}var hex_chr="0123456789abcdef".split("");function rhex(n){var s="",j=0;for(;j<4;j++){s+=hex_chr[(n>>(j*8+4))&15]+hex_chr[(n>>(j*8))&15]}return s}function hex(x){for(var i=0;i<x.length;i++){x[i]=rhex(x[i])}return x.join("")}function md5(s){return hex(md51(s))}function add32(a,b){return(a+b)&4294967295}if(md5("hello")!="5d41402abc4b2a76b9719d911017c592"){function add32(x,y){var lsw=(x&65535)+(y&65535),msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&65535)}}var localSession={getLocalSession:function(){return CNSessionController.getUserInfo()}};var slotSession={getSlot:function(){var s=this.getSlotByCountry(CNConfig.country);return{slot:s}},getSlotByCountry:function(country){return({ar:"SLOT_1",laen:"SLOT_2",br:"SLOT_3",la:"SLOT_4",mx:"SLOT_5",cl:"SLOT_6",ve:"SLOT_7",co:"SLOT_8"}[country.toLowerCase()])}};if(typeof(window.trackSiteMilestones)=="undefined"){window.trackSiteMilestones=function(){consoleLog("trackSiteMilestones")}}function consoleLog(){if(typeof(console)!="undefined"){try{console.log.apply(console,arguments)}catch(err){}}}var CNApplicationContainer={updateMedallero:function(){ChallengesController.refresh()},addMedallaUsuarioNoLogueado:function(actionId){ChallengesController.addMedallaUsuarioNoLogueado(actionId)}};var CNSessionController={$document:null,$userBar:null,$proxyIframe:null,needsProxy:false,userData:null,serviceURL:null,proxyServiceURL:null,store:null,storeKey:"userData",ttl:60,isLogginIn:false,hashedPassword:null,SWFCallback:null,init:function(){this.$document=$(document);this.$userBar=$("#userBar");this.needsProxy=!$.support.cors;this.serviceURL=this.$userBar.attr("data-service-url");this.$document.one("storage.load",$.proxy(this.onStorageLoaded,this))},userLogin:function(userData,callback){if(this.isLogginIn||userData.username===""||userData.password===""){return}this.isLogginIn=true;this.hashedPassword=md5(userData.password);userData.username=userData.username.toLowerCase();userData.password=this.hashedPassword;userData.serviceURL=this.serviceURL;userData=$.param(userData);this.SWFCallback=typeof callback==="function"?callback:null;if(this.needsProxy){this.proxy(userData)}else{$.ajax({url:this.serviceURL,type:"POST",data:userData,dataType:"json",cache:true,success:$.proxy(this.onUserLogin,this)})}},userLogout:function(){gigya.socialize.logout({callback:$.proxy(this.onGigyaUserLogout,this)})},getUserInfo:function(){var $avatarPartsElem=$("#avatarParts"),attrs=["body","bodyColor","costume","eye","head","headColor","imagePath","mouth","skinColor"],userInfo=null,avatarParts={};if(this.isUserLoggedIn()){userInfo={id:this.getUserId(),userName:this.getUserName(),password:this.getUserHashedPassword(),gender:this.getUserGender(),age:this.getUserAge(),birthdate:this.getUserBirthdate(),email:this.getUserEmail(),parentEmail:this.getUserEmailParent(),registerCountryCode:this.getUserRegisterCountryCode(),residentCountryCode:this.getUserResidentCountryCode(),credits:this.getUserCredits(),avatar:this.getUserAvatar()}}else{if($avatarPartsElem.length>0){for(var attr in attrs){if(attrs.hasOwnProperty(attr)){avatarParts[attrs[attr]]=$avatarPartsElem.attr("data-user-avatar-"+attrs[attr])}}userInfo={avatar:avatarParts}}}return userInfo},getUserId:function(){return this.userData.id},getUserName:function(){return this.userData.username},getUserHashedPassword:function(){return this.userData.password},getUserGender:function(){return this.userData.gender},getUserAge:function(){return this.userData.age},getUserBirthdate:function(){return this.userData.birthdate},getUserEmail:function(){return this.userData.email},getUserEmailParent:function(){var emailParent=this.userData.parentEmail,email;email=(typeof emailParent!==undefined||emailParent!==null)?this.userData.parentEmail:"";return email},getUserRegisterCountryCode:function(){return this.userData.registerCountryCode},getUserResidentCountryCode:function(){return this.userData.residentCountryCode},getUserCredits:function(){return this.userData.credits},setUserCredits:function(credits){if(this.isUserLoggedIn()){this.userData.credits=credits;this.store.set(this.storeKey,this.userData,this.ttl)}},getUserAvatar:function(){return{body:this.userData.avatarBody,bodyColor:parseInt(this.userData.avatarBodyColor,10),costume:this.userData.avatarCostume,eye:this.userData.avatarEye,head:this.userData.avatarHead,headColor:parseInt(this.userData.avatarHeadColor,10),imagePath:this.userData.avatarImagePath,mouth:this.userData.avatarMouth,skinColor:parseInt(this.userData.avatarSkinColor,10)}},setUserAvatar:function(avatar,avatarBase64){var userData=this.userData;userData.avatarBody=avatar.body;userData.avatarBodyColor=parseInt(avatar.bodyColor,10);userData.avatarCostume=avatar.costume;userData.avatarEye=avatar.eye;userData.avatarHead=avatar.head;userData.avatarHeadColor=parseInt(avatar.headColor,10);userData.avatarImagePath="data:image/png;base64,"+avatarBase64;userData.avatarMouth=avatar.mouth;userData.avatarSkinColor=parseInt(avatar.skinColor,10);this.store.set(this.storeKey,userData,this.ttl)},isUserLoggedIn:function(){return this.userData!==null},onUserLogin:function(r){var SWFDataObject={statusCode:"OK",user:null};this.isLogginIn=false;if(!r){LightboxController.open("lightboxUsuarioInexistente")}else{if(r.error){switch(r.error){case"USER_DISABLED":case"USER_NOT_EXISTS":LightboxController.open("lightboxUsuarioInexistente");break;case"USER_WRONG_PASSWORD":LightboxController.open("lightboxRecuperaDatos");break}}else{if(r.success){r.principal.password=this.hashedPassword;r.principal.age=moment().diff(r.principal.birthdate,"years");this.userData=this.store.set(this.storeKey,r.principal,this.ttl);GigyaController.setCookie(r.principal.cookieUser);trackUserLogin({loginStatus:"logged-in",gender:this.userData.gender.toLowerCase(),age:this.userData.age,country:this.userData.registerCountryCode});this.dispatchEvent()}}}if(this.SWFCallback!==null){SWFDataObject.statusCode=r.error?r.error:"OK";SWFDataObject.user=this.getUserInfo();this.SWFCallback(SWFDataObject)}},onGigyaUserLogout:function(r){if(r.errorCode===0){this.store.deleteKey(this.storeKey);this.userData=null;window.location=CNConfig.domain}},onStorageLoaded:function(e,store){var isLogged;this.store=store;this.userData=this.store.get(this.storeKey);isLogged=this.isUserLoggedIn();if(!isLogged&&this.needsProxy){this.createProxy()}else{if(isLogged){this.store.setTTL(this.storeKey,this.ttl)}}this.dispatchEvent()},dispatchEvent:function(){this.$document.trigger("session.status",this)},assignNewValuesToUserData:function(avatar,avatarImageBase64){var user=LocalStorageController.get("userData");user.avatarBody=avatar.body;user.avatarBodyColor=avatar.bodyColor;user.avatarCostume=avatar.costume;user.avatarEye=avatar.eye;user.avatarHead=avatar.head;user.avatarHeadColor=avatar.headColor;if(CNHelpers.validateSupportBase64()){user.avatarImagePath=avatarImageBase64}user.avatarMouth=avatar.mouth;user.avatarSkinColor=avatar.skinColor;LocalStorageController.set("userData",user,this.ttl)},createProxy:function(){var regex=/^(http[s]?:\/\/[\w\d\.\-:]+)\//,iframe_id="proxy-iframe";this.proxyServiceURL=this.serviceURL.match(regex)[1];this.$proxyIframe=$("#"+iframe_id);if(this.$proxyIframe.length===0){this.$proxyIframe=$("<iframe />");this.$proxyIframe.attr({id:"proxy-iframe","class":"invisible",width:0,height:0,src:this.proxyServiceURL+"/proxy"});$("body").append(this.$proxyIframe)}$(window).on("message",$.proxy(this.onCORSMessage,this))},proxy:function(data){this.$proxyIframe[0].contentWindow.postMessage(data,this.proxyServiceURL)},onCORSMessage:function(r){if(r&&typeof r.originalEvent!=="undefined"){if(r.originalEvent.origin!==this.proxyServiceURL){return}r=$.parseJSON(r.originalEvent.data);if(r.serviceURL===this.serviceURL){this.onUserLogin(r)}}}};if(window.jQuery){var CNLALibrary=(function(){var _version="0.0.9";var _proxyPath="http://m.cartoonnetworkla.com/misc/cn30/crossdomain_proxy.php";var _dummyDataPath="http://m.cartoonnetworkla.com/misc/cn30/dummyData/";var _moment=moment;_moment.tz.add({zones:{"America/Argentina/Buenos_Aires":["-3:53:48 - LMT 1894_9_31 -3:53:48","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1999_9_3 -3","-4 Arg AR%sT 2000_2_3 -3","-3 Arg AR%sT"],"America/Bogota":["-4:56:16 - LMT 1884_2_13 -4:56:16","-4:56:16 - BMT 1914_10_23 -4:56:16","-5 CO CO%sT"],"America/Caracas":["-4:27:44 - LMT 1890 -4:27:44","-4:27:40 - CMT 1912_1_12 -4:27:40","-4:30 - VET 1965 -4:30","-4 - VET 2007_11_9_03 -4","-4:30 - VET"],"America/Mexico_City":["-6:36:36 - LMT 1922_0_1_0_23_24 -6:36:36","-7 - MST 1927_5_10_23 -7","-6 - CST 1930_10_15 -6","-7 - MST 1931_4_1_23 -7","-6 - CST 1931_9 -6","-7 - MST 1932_3_1 -7","-6 Mexico C%sT 2001_8_30_02 -5","-6 - CST 2002_1_20 -6","-6 Mexico C%sT"],"America/Santiago":["-4:42:46 - LMT 1890 -4:42:46","-4:42:46 - SMT 1910 -4:42:46","-5 - CLT 1916_6_1 -5","-4:42:46 - SMT 1918_8_1 -4:42:46","-4 - CLT 1919_6_1 -4","-4:42:46 - SMT 1927_8_1 -4:42:46","-5 Chile CL%sT 1947_4_22 -5","-4 Chile CL%sT"],"America/Sao_Paulo":["-3:6:28 - LMT 1914 -3:6:28","-3 Brazil BR%sT 1963_9_23_00 -3","-2 - BRST 1964 -2","-3 Brazil BR%sT"],"Africa/Luanda":["0:52:56 - LMT 1892 0:52:56","0:52:4 - AOT 1911_4_26 0:52:4","1 - WAT"],"Etc/GMT-6":["6 - GMT-6"],"Etc/GMT-5":["5 - GMT-5"],"Etc/GMT-4":["4 - GMT-4"],"Etc/GMT-3":["3 - GMT-3"],"Etc/GMT-0":["0 - GMT-0"],"Etc/GMT+1":["-1	- GMT+1"],"Etc/GMT+2":["-2	- GMT+2"]},rules:{},links:{UTC:"Etc/GMT-0"}});function _checkParameters(paramsObject,listOfParamsToCheck,callback){var errorCode="OK";var success;var i;if(typeof(paramsObject)=="undefined"){errorCode="NO_PARAMS"}else{if(($.inArray("callback",listOfParamsToCheck)!=-1)&&(typeof(callback)!="function")){errorCode="NO_CALLBACK"}else{var missingParameter=false;for(i=0,len=listOfParamsToCheck.length;i<len;i++){if(listOfParamsToCheck[i].toLowerCase()=="callback"){continue}if(typeof(paramsObject[listOfParamsToCheck[i]])=="undefined"){missingParameter=true;break}}if(missingParameter){errorCode="MISSING_PARAMETER"}}}success=(errorCode=="OK");return{success:success,errorCode:errorCode}}function _checkForCallback(callback){var hasCallback=(typeof(callback)=="function");var errorCode="OK";if(!hasCallback){errorCode="NO_CALLBACK"}return{success:hasCallback,errorCode:errorCode}}function _getDummyUrl(fileName){return _proxyPath+"?u="+escape(_dummyDataPath+fileName)}function _getFile(path,callback){$.ajax({url:path,data:{},cache:true,success:callback})}function _getFeedTimezoneID(){return CNConfig.scheduleTimezoneID}function _getCountryTimezoneID(){return CNConfig.feedTimezoneID}function _getTime(params){var timezone,currentDate;switch(params.type){case"feed":timezone=_getFeedTimezoneID();break;case"country":timezone=_getCountryTimezoneID();break;default:break}currentDate=_moment().tz(timezone);return currentDate}function _getCountryTime(params){var currentDate,result;$.extend(params,{type:"country"});currentDate=_getTime(params);if(typeof currentDate!=="undefined"){currentDate=currentDate.format("YYYY-MM-DDTHH:mm:ss");result={date:new Date(currentDate)}}else{result={error:"Country not available"}}return result}var _instance={getVersion:function(){return _version},getPalette:function(params,callback){var paramsCheck=_checkParameters(params,["paletteName","countryCode","page","callback"],callback);if(paramsCheck.success){_getFile(_getDummyUrl("palette.json"),callback)}else{console.log(paramsCheck.errorCode)}},filterPalette:function(params,callback){var paramsCheck=_checkParameters(params,["paletteName","countryCode","page","contentTypeList","searchQuery","callback"],callback);if(paramsCheck.success){_getFile(_getDummyUrl("paletteFilter.json"),callback)}else{console.log(paramsCheck.errorCode)}},login:function(params,callback){var paramsCheck=_checkParameters(params,["userName","password","callback"],callback),userData;if(paramsCheck.success){userData={username:params.userName,password:params.password};CNSessionController.userLogin(userData,callback)}else{console.log(paramsCheck.errorCode)}},getLoggedUser:function(callback){var userInfo=CNSessionController.getUserInfo();callback(userInfo)},canUseUsername:function(params,callback){var paramsCheck=_checkParameters(params,["userName","callback"],callback);var response;if(paramsCheck.success){response=(Math.random()>0.3)?"OK":((Math.random()>0.5)?"USER_NOT_VALID":"USER_EXISTS");callback({errorCode:response,suggestionList:((response=="USER_EXISTS")?["sug1","sug2","sug3"]:null)})}else{console.log(paramsCheck.errorCode)}},getGameListWithChallenges:function(callback){var paramsCheck=_checkForCallback(callback);if(paramsCheck.success){_getFile(CNConfig.gameListServiceURL,callback)}else{console.log(paramsCheck.errorCode)}},saveUserAvatar:function(params,callback){var paramsCheck=_checkParameters(params,["userId","avatar","callback"],callback);if(paramsCheck.success){callback({errorCode:((Math.random()>0.2)?"OK":"ERROR")})}else{console.log(paramsCheck.errorCode)}},getAvatarAccessoryList:function(callback){var paramsCheck=_checkForCallback(callback);if(paramsCheck.success){_getFile(CNConfig.avatarPartsList,callback)}else{console.log(paramsCheck.errorCode)}},buyAvatarAccessory:function(params,callback){var paramsCheck=_checkParameters(params,["userId","avatarAccessoryId","callback"],callback);if(paramsCheck.success){callback({success:true,credits:150})}else{console.log(paramsCheck.errorCode)}},getPurchasedAvatarAccessoryListByUser:function(params,callback){var paramsCheck=_checkParameters(params,["userId","callback"],callback);if(paramsCheck.success){callback([77335514,77329302,77327690])}else{console.log(paramsCheck.errorCode)}},getCountryTimezone:function(params,callback){var paramsCheck=_checkParameters(params,["country","callback"],callback);if(paramsCheck.success){callback(_getCountryTimezoneID())}else{console.log(paramsCheck.errorCode)}},getTime:function(params,callback){var paramsCheck=_checkParameters(params,["type","callback"],callback);if(paramsCheck.success){callback(_getTime(params))}else{console.log(paramsCheck.errorCode)}},getCountryTime:function(params,callback){var paramsCheck=_checkParameters(params,["country","callback"],callback);if(paramsCheck.success){callback(_getCountryTime(params))}else{console.log(paramsCheck.errorCode)}},addCreditsByCode:function(params,callback){var paramsCheck=_checkParameters(params,["userId","code","callback"],callback);if(paramsCheck.success){callback(150)}else{console.log(paramsCheck.errorCode)}},getUserById:function(params,callback){var paramsCheck=_checkParameters(params,["userId","callback"],callback);if(paramsCheck.success){callback({id:params.userId,userName:"USERNAME",email:"test@test.com",credits:150,avatar:{body:123456,bodyColor:321654987,costume:123456,eye:123456,head:123456,headColor:321654987,imagePath:"imagen.png",mouth:123456,skinColor:321654987},age:23,gender:"MALE",parentalLevel:"FULL",banned:false})}else{console.log(paramsCheck.errorCode)}}};return _instance})()}else{if(typeof(console)!="undefined"){if(console){console.log("## CNLA Library - jQuery required")}}};